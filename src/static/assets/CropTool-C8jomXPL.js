var e,t,o,r,n,i,a,s,c,l,p=Object.defineProperty,u=Object.defineProperties,d=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,g=(e,t,o)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,v=(e,t)=>{for(var o in t||(t={}))m.call(t,o)&&g(e,o,t[o]);if(h)for(var o of h(t))f.call(t,o)&&g(e,o,t[o]);return e},w=(e,t)=>u(e,d(t));import{j as x,B as y}from"./index-BgdVocwn.js";import{g as b,r as C}from"./react-vendor-BsLtzIyS.js";import{T as S,H as R,U as z,C as j,a as P,b as D,c as F,d as M,P as I,e as E,f as k,g as N,S as G}from"./ToolPageLayout-BbYh9Geg.js";import{_ as T,e as A,S as W,a as O,b as U,c as L,d as _}from"./select-0_75GcHt.js";import{R as Z}from"./ResultSection-704Yq0rM.js";import{E as q}from"./EnhancedTipsSection-DG3Bq8Gm.js";import{C as H}from"./ui-vendor-BFUjoqbW.js";import"./utils-vendor-D-jntlEd.js";function Y(){if(i)return n;i=1;var e,t=function(){if(r)return o;r=1;var e=!("undefined"==typeof window||!window.document||!window.document.createElement),t={canUseDOM:e,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:e&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:e&&!!window.screen,isInWorker:!e};return o=t}();return t.canUseDOM&&(e=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""))
/**
   * Checks if an event is supported in the current execution environment.
   *
   * NOTE: This will not work correctly for non-generic events such as `change`,
   * `reset`, `load`, `error`, and `select`.
   *
   * Borrows from Modernizr.
   *
   * @param {string} eventNameSuffix Event name, e.g. "click".
   * @param {?boolean} capture Check if the capture phase is supported.
   * @return {boolean} True if the event is supported.
   * @internal
   * @license Modernizr 3.0.0pre (Custom Build) | MIT
   */,n=function(o,r){if(!t.canUseDOM||r&&!("addEventListener"in document))return!1;var n="on"+o,i=n in document;if(!i){var a=document.createElement("div");a.setAttribute(n,"return;"),i="function"==typeof a[n]}return!i&&e&&"wheel"===o&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}}function V(){if(s)return a;s=1;var o=function(){if(t)return e;t=1;var o,r,n,i,a,s,c,l,p,u,d,h,m,f,g,v=!1;function w(){if(!v){v=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),w=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(h=/\b(iPhone|iP[ao]d)/.exec(e),m=/\b(iP[ao]d)/.exec(e),u=/Android/i.exec(e),f=/FBAN\/\w+;/i.exec(e),g=/Mobile/i.exec(e),d=!!/Win64/.exec(e),t){(o=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN)&&document&&document.documentMode&&(o=document.documentMode);var x=/(?:Trident\/(\d+.\d+))/.exec(e);s=x?parseFloat(x[1])+4:o,r=t[2]?parseFloat(t[2]):NaN,n=t[3]?parseFloat(t[3]):NaN,(i=t[4]?parseFloat(t[4]):NaN)?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),a=t&&t[1]?parseFloat(t[1]):NaN):a=NaN}else o=r=n=a=i=NaN;if(w){if(w[1]){var y=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);c=!y||parseFloat(y[1].replace("_","."))}else c=!1;l=!!w[2],p=!!w[3]}else c=l=p=!1}}var x={ie:function(){return w()||o},ieCompatibilityMode:function(){return w()||s>o},ie64:function(){return x.ie()&&d},firefox:function(){return w()||r},opera:function(){return w()||n},webkit:function(){return w()||i},safari:function(){return x.webkit()},chrome:function(){return w()||a},windows:function(){return w()||l},osx:function(){return w()||c},linux:function(){return w()||p},iphone:function(){return w()||h},mobile:function(){return w()||h||m||u||g},nativeApp:function(){return w()||f},android:function(){return w()||u},ipad:function(){return w()||m}};return e=x}(),r=Y();function n(e){var t=0,o=0,r=0,n=0;return"detail"in e&&(o=e.detail),"wheelDelta"in e&&(o=-e.wheelDelta/120),"wheelDeltaY"in e&&(o=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=o,o=0),r=10*t,n=10*o,"deltaY"in e&&(n=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||n)&&e.deltaMode&&(1==e.deltaMode?(r*=40,n*=40):(r*=800,n*=800)),r&&!t&&(t=r<1?-1:1),n&&!o&&(o=n<1?-1:1),{spinX:t,spinY:o,pixelX:r,pixelY:n}}return n.getEventType=function(){return o.firefox()?"DOMMouseScroll":r("wheel")?"wheel":"mousewheel"},a=n}const X=b(l?c:(l=1,c=V()));function K(e,t,o,r,n){void 0===n&&(n=0);var i=oe(t.width,t.height,n),a=i.width,s=i.height;return{x:$(e.x,a,o.width,r),y:$(e.y,s,o.height,r)}}function $(e,t,o,r){var n=t*r/2-o/2;return re(e,-n,n)}function B(e,t){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function J(e,t){return 180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI}function Q(e,t){return Math.min(e,Math.max(0,t))}function ee(e,t){return t}function te(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function oe(e,t,o){var r=o*Math.PI/180;return{width:Math.abs(Math.cos(r)*e)+Math.abs(Math.sin(r)*t),height:Math.abs(Math.sin(r)*e)+Math.abs(Math.cos(r)*t)}}function re(e,t,o){return Math.min(Math.max(e,t),o)}function ne(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(e){return"string"==typeof e&&e.length>0}).join(" ").trim()}var ie=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.cropperRef=C.createRef(),o.imageRef=C.createRef(),o.videoRef=C.createRef(),o.containerPosition={x:0,y:0},o.containerRef=null,o.styleRef=null,o.containerRect=null,o.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},o.dragStartPosition={x:0,y:0},o.dragStartCrop={x:0,y:0},o.gestureZoomStart=0,o.gestureRotationStart=0,o.isTouching=!1,o.lastPinchDistance=0,o.lastPinchRotation=0,o.rafDragTimeout=null,o.rafPinchTimeout=null,o.wheelTimer=null,o.currentDoc="undefined"!=typeof document?document:null,o.currentWindow="undefined"!=typeof window?window:null,o.resizeObserver=null,o.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},o.initResizeObserver=function(){if(void 0!==window.ResizeObserver&&o.containerRef){var e=!0;o.resizeObserver=new window.ResizeObserver(function(t){e?e=!1:o.computeSizes()}),o.resizeObserver.observe(o.containerRef)}},o.preventZoomSafari=function(e){return e.preventDefault()},o.cleanEvents=function(){o.currentDoc&&(o.currentDoc.removeEventListener("mousemove",o.onMouseMove),o.currentDoc.removeEventListener("mouseup",o.onDragStopped),o.currentDoc.removeEventListener("touchmove",o.onTouchMove),o.currentDoc.removeEventListener("touchend",o.onDragStopped),o.currentDoc.removeEventListener("gesturechange",o.onGestureChange),o.currentDoc.removeEventListener("gestureend",o.onGestureEnd),o.currentDoc.removeEventListener("scroll",o.onScroll))},o.clearScrollEvent=function(){o.containerRef&&o.containerRef.removeEventListener("wheel",o.onWheel),o.wheelTimer&&clearTimeout(o.wheelTimer)},o.onMediaLoad=function(){var e=o.computeSizes();e&&(o.emitCropData(),o.setInitialCrop(e)),o.props.onMediaLoaded&&o.props.onMediaLoaded(o.mediaSize)},o.setInitialCrop=function(e){if(o.props.initialCroppedAreaPercentages){var t=function(e,t,o,r,n,i){var a=oe(t.width,t.height,o),s=re(r.width/a.width*(100/e.width),n,i);return{crop:{x:s*a.width/2-r.width/2-a.width*s*(e.x/100),y:s*a.height/2-r.height/2-a.height*s*(e.y/100)},zoom:s}}(o.props.initialCroppedAreaPercentages,o.mediaSize,o.props.rotation,e,o.props.minZoom,o.props.maxZoom),r=t.crop,n=t.zoom;o.props.onCropChange(r),o.props.onZoomChange&&o.props.onZoomChange(n)}else if(o.props.initialCroppedAreaPixels){var i=function(e,t,o,r,n,i){void 0===o&&(o=0);var a=oe(t.naturalWidth,t.naturalHeight,o),s=re(function(e,t,o){var r=function(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}(t);return o.height>o.width?o.height/(e.height*r):o.width/(e.width*r)}(e,t,r),n,i),c=r.height>r.width?r.height/e.height:r.width/e.width;return{crop:{x:((a.width-e.width)/2-e.x)*c,y:((a.height-e.height)/2-e.y)*c},zoom:s}}(o.props.initialCroppedAreaPixels,o.mediaSize,o.props.rotation,e,o.props.minZoom,o.props.maxZoom);r=i.crop,n=i.zoom;o.props.onCropChange(r),o.props.onZoomChange&&o.props.onZoomChange(n)}},o.computeSizes=function(){var e,t,r,n,i,a,s=o.imageRef.current||o.videoRef.current;if(s&&o.containerRef){o.containerRect=o.containerRef.getBoundingClientRect(),o.saveContainerPosition();var c=o.containerRect.width/o.containerRect.height,l=(null===(e=o.imageRef.current)||void 0===e?void 0:e.naturalWidth)||(null===(t=o.videoRef.current)||void 0===t?void 0:t.videoWidth)||0,p=(null===(r=o.imageRef.current)||void 0===r?void 0:r.naturalHeight)||(null===(n=o.videoRef.current)||void 0===n?void 0:n.videoHeight)||0,u=l/p,d=void 0;if(s.offsetWidth<l||s.offsetHeight<p)switch(o.state.mediaObjectFit){default:case"contain":d=c>u?{width:o.containerRect.height*u,height:o.containerRect.height}:{width:o.containerRect.width,height:o.containerRect.width/u};break;case"horizontal-cover":d={width:o.containerRect.width,height:o.containerRect.width/u};break;case"vertical-cover":d={width:o.containerRect.height*u,height:o.containerRect.height}}else d={width:s.offsetWidth,height:s.offsetHeight};o.mediaSize=A(A({},d),{naturalWidth:l,naturalHeight:p}),o.props.setMediaSize&&o.props.setMediaSize(o.mediaSize);var h=o.props.cropSize?o.props.cropSize:function(e,t,o,r,n,i){void 0===i&&(i=0);var a=oe(e,t,i),s=a.width,c=a.height,l=Math.min(s,o),p=Math.min(c,r);return l>p*n?{width:p*n,height:p}:{width:l,height:l/n}}(o.mediaSize.width,o.mediaSize.height,o.containerRect.width,o.containerRect.height,o.props.aspect,o.props.rotation);return(null===(i=o.state.cropSize)||void 0===i?void 0:i.height)===h.height&&(null===(a=o.state.cropSize)||void 0===a?void 0:a.width)===h.width||o.props.onCropSizeChange&&o.props.onCropSizeChange(h),o.setState({cropSize:h},o.recomputeCropPosition),o.props.setCropSize&&o.props.setCropSize(h),h}},o.saveContainerPosition=function(){if(o.containerRef){var e=o.containerRef.getBoundingClientRect();o.containerPosition={x:e.left,y:e.top}}},o.onMouseDown=function(e){o.currentDoc&&(e.preventDefault(),o.currentDoc.addEventListener("mousemove",o.onMouseMove),o.currentDoc.addEventListener("mouseup",o.onDragStopped),o.saveContainerPosition(),o.onDragStart(t.getMousePoint(e)))},o.onMouseMove=function(e){return o.onDrag(t.getMousePoint(e))},o.onScroll=function(e){o.currentDoc&&(e.preventDefault(),o.saveContainerPosition())},o.onTouchStart=function(e){o.currentDoc&&(o.isTouching=!0,o.props.onTouchRequest&&!o.props.onTouchRequest(e)||(o.currentDoc.addEventListener("touchmove",o.onTouchMove,{passive:!1}),o.currentDoc.addEventListener("touchend",o.onDragStopped),o.saveContainerPosition(),2===e.touches.length?o.onPinchStart(e):1===e.touches.length&&o.onDragStart(t.getTouchPoint(e.touches[0]))))},o.onTouchMove=function(e){e.preventDefault(),2===e.touches.length?o.onPinchMove(e):1===e.touches.length&&o.onDrag(t.getTouchPoint(e.touches[0]))},o.onGestureStart=function(e){o.currentDoc&&(e.preventDefault(),o.currentDoc.addEventListener("gesturechange",o.onGestureChange),o.currentDoc.addEventListener("gestureend",o.onGestureEnd),o.gestureZoomStart=o.props.zoom,o.gestureRotationStart=o.props.rotation)},o.onGestureChange=function(e){if(e.preventDefault(),!o.isTouching){var r=t.getMousePoint(e),n=o.gestureZoomStart-1+e.scale;if(o.setNewZoom(n,r,{shouldUpdatePosition:!0}),o.props.onRotationChange){var i=o.gestureRotationStart+e.rotation;o.props.onRotationChange(i)}}},o.onGestureEnd=function(e){o.cleanEvents()},o.onDragStart=function(e){var t,r,n=e.x,i=e.y;o.dragStartPosition={x:n,y:i},o.dragStartCrop=A({},o.props.crop),null===(r=(t=o.props).onInteractionStart)||void 0===r||r.call(t)},o.onDrag=function(e){var t=e.x,r=e.y;o.currentWindow&&(o.rafDragTimeout&&o.currentWindow.cancelAnimationFrame(o.rafDragTimeout),o.rafDragTimeout=o.currentWindow.requestAnimationFrame(function(){if(o.state.cropSize&&void 0!==t&&void 0!==r){var e=t-o.dragStartPosition.x,n=r-o.dragStartPosition.y,i={x:o.dragStartCrop.x+e,y:o.dragStartCrop.y+n},a=o.props.restrictPosition?K(i,o.mediaSize,o.state.cropSize,o.props.zoom,o.props.rotation):i;o.props.onCropChange(a)}}))},o.onDragStopped=function(){var e,t;o.isTouching=!1,o.cleanEvents(),o.emitCropData(),null===(t=(e=o.props).onInteractionEnd)||void 0===t||t.call(e)},o.onWheel=function(e){if(o.currentWindow&&(!o.props.onWheelRequest||o.props.onWheelRequest(e))){e.preventDefault();var r=t.getMousePoint(e),n=X(e).pixelY,i=o.props.zoom-n*o.props.zoomSpeed/200;o.setNewZoom(i,r,{shouldUpdatePosition:!0}),o.state.hasWheelJustStarted||o.setState({hasWheelJustStarted:!0},function(){var e,t;return null===(t=(e=o.props).onInteractionStart)||void 0===t?void 0:t.call(e)}),o.wheelTimer&&clearTimeout(o.wheelTimer),o.wheelTimer=o.currentWindow.setTimeout(function(){return o.setState({hasWheelJustStarted:!1},function(){var e,t;return null===(t=(e=o.props).onInteractionEnd)||void 0===t?void 0:t.call(e)})},250)}},o.getPointOnContainer=function(e,t){var r=e.x,n=e.y;if(!o.containerRect)throw new Error("The Cropper is not mounted");return{x:o.containerRect.width/2-(r-t.x),y:o.containerRect.height/2-(n-t.y)}},o.getPointOnMedia=function(e){var t=e.x,r=e.y,n=o.props,i=n.crop,a=n.zoom;return{x:(t+i.x)/a,y:(r+i.y)/a}},o.setNewZoom=function(e,t,r){var n=(void 0===r?{}:r).shouldUpdatePosition,i=void 0===n||n;if(o.state.cropSize&&o.props.onZoomChange){var a=re(e,o.props.minZoom,o.props.maxZoom);if(i){var s=o.getPointOnContainer(t,o.containerPosition),c=o.getPointOnMedia(s),l={x:c.x*a-s.x,y:c.y*a-s.y},p=o.props.restrictPosition?K(l,o.mediaSize,o.state.cropSize,a,o.props.rotation):l;o.props.onCropChange(p)}o.props.onZoomChange(a)}},o.getCropData=function(){return o.state.cropSize?function(e,t,o,r,n,i,a){void 0===i&&(i=0),void 0===a&&(a=!0);var s=a?Q:ee,c=oe(t.width,t.height,i),l=oe(t.naturalWidth,t.naturalHeight,i),p={x:s(100,((c.width-o.width/n)/2-e.x/n)/c.width*100),y:s(100,((c.height-o.height/n)/2-e.y/n)/c.height*100),width:s(100,o.width/c.width*100/n),height:s(100,o.height/c.height*100/n)},u=Math.round(s(l.width,p.width*l.width/100)),d=Math.round(s(l.height,p.height*l.height/100)),h=l.width>=l.height*r?{width:Math.round(d*r),height:d}:{width:u,height:Math.round(u/r)};return{croppedAreaPercentages:p,croppedAreaPixels:A(A({},h),{x:Math.round(s(l.width-h.width,p.x*l.width/100)),y:Math.round(s(l.height-h.height,p.y*l.height/100))})}}(o.props.restrictPosition?K(o.props.crop,o.mediaSize,o.state.cropSize,o.props.zoom,o.props.rotation):o.props.crop,o.mediaSize,o.state.cropSize,o.getAspect(),o.props.zoom,o.props.rotation,o.props.restrictPosition):null},o.emitCropData=function(){var e=o.getCropData();if(e){var t=e.croppedAreaPercentages,r=e.croppedAreaPixels;o.props.onCropComplete&&o.props.onCropComplete(t,r),o.props.onCropAreaChange&&o.props.onCropAreaChange(t,r)}},o.emitCropAreaChange=function(){var e=o.getCropData();if(e){var t=e.croppedAreaPercentages,r=e.croppedAreaPixels;o.props.onCropAreaChange&&o.props.onCropAreaChange(t,r)}},o.recomputeCropPosition=function(){if(o.state.cropSize){var e=o.props.restrictPosition?K(o.props.crop,o.mediaSize,o.state.cropSize,o.props.zoom,o.props.rotation):o.props.crop;o.props.onCropChange(e),o.emitCropData()}},o.onKeyDown=function(e){var t,r,n=o.props,i=n.crop,a=n.onCropChange,s=n.keyboardStep,c=n.zoom,l=n.rotation,p=s;if(o.state.cropSize){e.shiftKey&&(p*=.2);var u=A({},i);switch(e.key){case"ArrowUp":u.y-=p,e.preventDefault();break;case"ArrowDown":u.y+=p,e.preventDefault();break;case"ArrowLeft":u.x-=p,e.preventDefault();break;case"ArrowRight":u.x+=p,e.preventDefault();break;default:return}o.props.restrictPosition&&(u=K(u,o.mediaSize,o.state.cropSize,c,l)),e.repeat||null===(r=(t=o.props).onInteractionStart)||void 0===r||r.call(t),a(u)}},o.onKeyUp=function(e){var t,r;switch(e.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":e.preventDefault();break;default:return}o.emitCropData(),null===(r=(t=o.props).onInteractionEnd)||void 0===r||r.call(t)},o}return T(t,e),t.prototype.componentDidMount=function(){this.currentDoc&&this.currentWindow&&(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),void 0===window.ResizeObserver&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=".reactEasyCrop_Container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  user-select: none;\n  touch-action: none;\n  cursor: move;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.reactEasyCrop_Image,\n.reactEasyCrop_Video {\n  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */\n}\n\n.reactEasyCrop_Contain {\n  max-width: 100%;\n  max-height: 100%;\n  margin: auto;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.reactEasyCrop_Cover_Horizontal {\n  width: 100%;\n  height: auto;\n}\n.reactEasyCrop_Cover_Vertical {\n  width: auto;\n  height: 100%;\n}\n\n.reactEasyCrop_CropArea {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  box-sizing: border-box;\n  box-shadow: 0 0 0 9999em;\n  color: rgba(0, 0, 0, 0.5);\n  overflow: hidden;\n}\n\n.reactEasyCrop_CropAreaRound {\n  border-radius: 50%;\n}\n\n.reactEasyCrop_CropAreaGrid::before {\n  content: ' ';\n  box-sizing: border-box;\n  position: absolute;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  top: 0;\n  bottom: 0;\n  left: 33.33%;\n  right: 33.33%;\n  border-top: 0;\n  border-bottom: 0;\n}\n\n.reactEasyCrop_CropAreaGrid::after {\n  content: ' ';\n  box-sizing: border-box;\n  position: absolute;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  top: 33.33%;\n  bottom: 33.33%;\n  left: 0;\n  right: 0;\n  border-left: 0;\n  border-right: 0;\n}\n",this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},t.prototype.componentWillUnmount=function(){var e,t;this.currentDoc&&this.currentWindow&&(void 0===window.ResizeObserver&&this.currentWindow.removeEventListener("resize",this.computeSizes),null===(e=this.resizeObserver)||void 0===e||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&(null===(t=this.styleRef.parentNode)||void 0===t||t.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},t.prototype.componentDidUpdate=function(e){var t,o,r,n,i,a,s,c,l;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect||e.objectFit!==this.props.objectFit?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():(null===(t=e.cropSize)||void 0===t?void 0:t.height)!==(null===(o=this.props.cropSize)||void 0===o?void 0:o.height)||(null===(r=e.cropSize)||void 0===r?void 0:r.width)!==(null===(n=this.props.cropSize)||void 0===n?void 0:n.width)?this.computeSizes():(null===(i=e.crop)||void 0===i?void 0:i.x)===(null===(a=this.props.crop)||void 0===a?void 0:a.x)&&(null===(s=e.crop)||void 0===s?void 0:s.y)===(null===(c=this.props.crop)||void 0===c?void 0:c.y)||this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&(null===(l=this.videoRef.current)||void 0===l||l.load());var p=this.getObjectFit();p!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:p},this.computeSizes)},t.prototype.getAspect=function(){var e=this.props,t=e.cropSize,o=e.aspect;return t?t.width/t.height:o},t.prototype.getObjectFit=function(){var e,t,o,r;if("cover"===this.props.objectFit){if((this.imageRef.current||this.videoRef.current)&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var n=this.containerRect.width/this.containerRect.height;return((null===(e=this.imageRef.current)||void 0===e?void 0:e.naturalWidth)||(null===(t=this.videoRef.current)||void 0===t?void 0:t.videoWidth)||0)/((null===(o=this.imageRef.current)||void 0===o?void 0:o.naturalHeight)||(null===(r=this.videoRef.current)||void 0===r?void 0:r.videoHeight)||0)<n?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},t.prototype.onPinchStart=function(e){var o=t.getTouchPoint(e.touches[0]),r=t.getTouchPoint(e.touches[1]);this.lastPinchDistance=B(o,r),this.lastPinchRotation=J(o,r),this.onDragStart(te(o,r))},t.prototype.onPinchMove=function(e){var o=this;if(this.currentDoc&&this.currentWindow){var r=t.getTouchPoint(e.touches[0]),n=t.getTouchPoint(e.touches[1]),i=te(r,n);this.onDrag(i),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var e=B(r,n),t=o.props.zoom*(e/o.lastPinchDistance);o.setNewZoom(t,i,{shouldUpdatePosition:!1}),o.lastPinchDistance=e;var a=J(r,n),s=o.props.rotation+(a-o.lastPinchRotation);o.props.onRotationChange&&o.props.onRotationChange(s),o.lastPinchRotation=a})}},t.prototype.render=function(){var e,t=this,o=this.props,r=o.image,n=o.video,i=o.mediaProps,a=o.cropperProps,s=o.transform,c=o.crop,l=c.x,p=c.y,u=o.rotation,d=o.zoom,h=o.cropShape,m=o.showGrid,f=o.roundCropAreaPixels,g=o.style,v=g.containerStyle,w=g.cropAreaStyle,x=g.mediaStyle,y=o.classes,b=y.containerClassName,S=y.cropAreaClassName,R=y.mediaClassName,z=null!==(e=this.state.mediaObjectFit)&&void 0!==e?e:this.getObjectFit();return C.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(e){return t.containerRef=e},"data-testid":"container",style:v,className:ne("reactEasyCrop_Container",b)},r?C.createElement("img",A({alt:"",className:ne("reactEasyCrop_Image","contain"===z&&"reactEasyCrop_Contain","horizontal-cover"===z&&"reactEasyCrop_Cover_Horizontal","vertical-cover"===z&&"reactEasyCrop_Cover_Vertical",R)},i,{src:r,ref:this.imageRef,style:A(A({},x),{transform:s||"translate(".concat(l,"px, ").concat(p,"px) rotate(").concat(u,"deg) scale(").concat(d,")")}),onLoad:this.onMediaLoad})):n&&C.createElement("video",A({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:ne("reactEasyCrop_Video","contain"===z&&"reactEasyCrop_Contain","horizontal-cover"===z&&"reactEasyCrop_Cover_Horizontal","vertical-cover"===z&&"reactEasyCrop_Cover_Vertical",R)},i,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:A(A({},x),{transform:s||"translate(".concat(l,"px, ").concat(p,"px) rotate(").concat(u,"deg) scale(").concat(d,")")}),controls:!1}),(Array.isArray(n)?n:[{src:n}]).map(function(e){return C.createElement("source",A({key:e.src},e))})),this.state.cropSize&&C.createElement("div",A({ref:this.cropperRef,style:A(A({},w),{width:f?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:f?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:ne("reactEasyCrop_CropArea","round"===h&&"reactEasyCrop_CropAreaRound",m&&"reactEasyCrop_CropAreaGrid",S)},a)))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:3,minZoom:1,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:1},t.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},t.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},t}(C.Component);function ae({imageUrl:e,aspect:t,crop:o,zoom:r,onCropChange:n,onZoomChange:i,onCropComplete:a}){const s={x:"number"!=typeof o.x||isNaN(o.x)?0:o.x,y:"number"!=typeof o.y||isNaN(o.y)?0:o.y},c="number"!=typeof r||isNaN(r)?1:r;return x.jsx("div",{style:{position:"relative",width:"100%",height:400,background:"#222"},children:x.jsx(ie,{image:e,crop:s,zoom:c,aspect:t,onCropChange:n,onZoomChange:i,onCropComplete:a,cropShape:"rect",showGrid:!0,style:{containerStyle:{borderRadius:12}}})})}function se(){const[e,t]=C.useState("upload"),[o,r]=C.useState("file"),[n,i]=C.useState(null),[a,s]=C.useState(!1),[c,l]=C.useState(null),[p,u]=C.useState(null),[d,h]=C.useState({x:0,y:0}),[m,f]=C.useState(1),[g,b]=C.useState({x:0,y:0,width:100,height:100}),[T,A]=C.useState(null),Y=C.useCallback((e,r=null)=>{if(!(e&&0!==e.length||r))return;let n;u(null),l(null),n="url"===o&&r?r:URL.createObjectURL(e[0]),i(n),h({x:0,y:0}),f(1),b({x:0,y:0,width:100,height:100}),t("editing")},[o]),V=C.useCallback((e,t)=>{t&&"number"==typeof t.x&&"number"==typeof t.y&&"number"==typeof t.width&&"number"==typeof t.height&&b(t)},[]),X=C.useCallback(()=>{return e=null,r=null,i=function*(){if(n&&g){u(null),s(!0),l(null),t("processing");try{const e=new FormData;if("url"===o)e.append("url",n);else{const t=yield fetch(n),o=yield t.blob();e.append("file",o,"image.gif")}e.append("x",Math.round(g.x).toString()),e.append("y",Math.round(g.y).toString()),e.append("width",Math.round(g.width).toString()),e.append("height",Math.round(g.height).toString()),e.append("aspect_ratio",T||"free");const r="http://localhost:5001",i=yield fetch(`${r}/api/crop`,{method:"POST",body:e});if(i.ok){const e=(yield i.json()).task_id;if(!e)throw new Error("No task_id returned from backend.");let o=null,n=null;for(let t=0;t<60;t++){const t=yield fetch(`${r}/api/task-status/${e}`);if(t.ok){const e=yield t.json();if(o=e.status||e.state,n=e.result,("SUCCESS"===o||"Task completed!"===o)&&n)break;if("FAILURE"===o)throw new Error(e.error||"GIF crop failed.")}yield new Promise(e=>setTimeout(e,1e3))}if("SUCCESS"!==o&&"Task completed!"!==o||!n)throw new Error("GIF crop timed out. Please try again.");{const e=yield fetch(`${r}/api/download/${n}`);if(!e.ok)throw new Error("Failed to fetch result GIF.");const o=yield e.blob(),i=URL.createObjectURL(o);l({previewUrl:i,downloadUrl:`${r}/api/download/${n}`}),t("result")}}else{const e=yield i.json();u(e.error||"An unknown error occurred during processing."),t("editing")}}catch(e){u(e.message||"Network error or unexpected issue."),t("editing")}finally{s(!1)}}},new Promise((t,o)=>{var n=e=>{try{s(i.next(e))}catch(t){o(t)}},a=e=>{try{s(i.throw(e))}catch(t){o(t)}},s=e=>e.done?t(e.value):Promise.resolve(e.value).then(n,a);s((i=i.apply(e,r)).next())});var e,r,i},[o,n,g,T]),K=()=>{t("upload"),i(null),l(null),u(null),h({x:0,y:0}),f(1),b({x:0,y:0,width:100,height:100}),A(null)};return x.jsx(x.Fragment,{children:x.jsxs(S,{title:"Crop GIF",description:"Crop and trim GIFs online for free. Remove unwanted parts and focus on the important content. Perfect for social media and messaging.",icon:H,seoProps:{title:"Crop GIF - Crop and Trim GIFs Online | EasyGIFMaker",description:"Crop and trim GIFs online for free. Remove unwanted parts and focus on the important content. Perfect for social media and messaging.",keywords:"crop gif, trim gif, cut gif, gif cropper, gif editor, crop animated gif, gif maker, free gif maker, online gif maker, gif converter, gif creator",canonical:"https://easygifmaker.com/crop"},howToSteps:[{"@type":"HowToStep",name:"Upload GIF",text:"Select a GIF file or enter a GIF URL to crop."},{"@type":"HowToStep",name:"Select Crop Area",text:"Use the interactive crop tool to select the area you want to keep."},{"@type":"HowToStep",name:"Adjust and Preview",text:"Fine-tune your crop selection and preview the result."},{"@type":"HowToStep",name:"Download Cropped GIF",text:"Download your cropped GIF with the selected area!"}],children:[x.jsx(R,{title:"How to Use the GIF Cropper",steps:[{title:"Upload your GIF",description:"Select a GIF file or enter a GIF URL to crop."},{title:"Select crop area",description:"Drag to create a selection box around the area you want to keep."},{title:"Adjust and preview",description:"Fine-tune your selection and preview the cropped result."},{title:"Download cropped GIF",description:"Download your perfectly cropped GIF!"}]}),"upload"===e&&x.jsx(z,{title:"Upload GIF to Crop",description:"Select a GIF file or enter a GIF URL to crop and trim",errorMessage:p,uploadMethod:o,setUploadMethod:r,onFileSelect:e=>Y(e),onUrlSubmit:e=>Y(null,e),isProcessing:a,supportedFormats:"Supported formats: GIF only",accept:"image/gif",toolName:"GIF",useGradient:!1}),"editing"===e&&x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[x.jsx("div",{className:"lg:col-span-2",children:x.jsxs(j,{className:"bg-gradient-to-br from-white to-blue-50/30 shadow-lg",children:[x.jsxs(P,{className:"pb-4",children:[x.jsx(D,{className:"text-2xl font-bold text-gray-800",children:"GIF Preview & Cropper"}),x.jsx(F,{className:"text-gray-600",children:"Drag to select the area you want to keep in your GIF"})]}),x.jsxs(M,{children:[x.jsx("div",{className:"bg-gradient-to-br from-gray-50/50 to-blue-50/30 rounded-2xl p-6 mb-6 backdrop-blur-sm",children:x.jsx(ae,{imageUrl:n,aspect:T,crop:d,zoom:m,onCropChange:h,onZoomChange:f,onCropComplete:V})}),x.jsxs("div",{className:"flex gap-4",children:[x.jsx(y,{onClick:K,variant:"outline",className:"flex-1 bg-white/80 backdrop-blur-sm hover:bg-white transition-all duration-300",children:"Upload Different GIF"}),x.jsx(y,{onClick:X,disabled:a,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:a?"Cropping...":"Crop GIF"})]})]})]})}),x.jsx("div",{children:x.jsxs(j,{className:"bg-gradient-to-br from-white to-indigo-50/30 shadow-lg",children:[x.jsx(P,{className:"pb-4",children:x.jsxs(D,{className:"flex items-center gap-3 text-xl font-bold text-gray-800",children:[x.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg",children:x.jsx(H,{className:"h-5 w-5 text-white"})}),"Crop Settings"]})}),x.jsxs(M,{children:[x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-4",children:[x.jsxs("label",{htmlFor:"crop-x",className:"block font-semibold mb-3 text-gray-800",children:["X Position",x.jsx("span",{className:"text-sm text-gray-500 ml-2 font-normal",children:"(pixels)"})]}),x.jsx("input",{id:"crop-x",type:"number",value:g.x||0,onChange:e=>{const t=parseInt(e.target.value,10)||0;b(w(v({},g),{x:t}))},min:"0",max:"1000",className:"w-full bg-white/80 backdrop-blur-sm rounded-lg px-3 py-2 text-center font-medium shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),x.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-4",children:[x.jsxs("label",{htmlFor:"crop-y",className:"block font-semibold mb-3 text-gray-800",children:["Y Position",x.jsx("span",{className:"text-sm text-gray-500 ml-2 font-normal",children:"(pixels)"})]}),x.jsx("input",{id:"crop-y",type:"number",value:g.y||0,onChange:e=>{const t=parseInt(e.target.value,10)||0;b(w(v({},g),{y:t}))},min:"0",max:"1000",className:"w-full bg-white/80 backdrop-blur-sm rounded-lg px-3 py-2 text-center font-medium shadow-sm focus:ring-2 focus:ring-green-500 focus:outline-none"})]}),x.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-4",children:[x.jsxs("label",{htmlFor:"crop-width",className:"block font-semibold mb-3 text-gray-800",children:["Width",x.jsx("span",{className:"text-sm text-gray-500 ml-2 font-normal",children:"(pixels)"})]}),x.jsx("input",{id:"crop-width",type:"number",value:g.width||0,onChange:e=>{const t=parseInt(e.target.value,10)||0;b(w(v({},g),{width:t}))},min:"10",max:"1000",className:"w-full bg-white/80 backdrop-blur-sm rounded-lg px-3 py-2 text-center font-medium shadow-sm focus:ring-2 focus:ring-purple-500 focus:outline-none"})]}),x.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-4",children:[x.jsxs("label",{htmlFor:"crop-height",className:"block font-semibold mb-3 text-gray-800",children:["Height",x.jsx("span",{className:"text-sm text-gray-500 ml-2 font-normal",children:"(pixels)"})]}),x.jsx("input",{id:"crop-height",type:"number",value:g.height||0,onChange:e=>{const t=parseInt(e.target.value,10)||0;b(w(v({},g),{height:t}))},min:"10",max:"1000",className:"w-full bg-white/80 backdrop-blur-sm rounded-lg px-3 py-2 text-center font-medium shadow-sm focus:ring-2 focus:ring-orange-500 focus:outline-none"})]})]}),x.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-4",children:[x.jsxs("label",{htmlFor:"aspect-ratio",className:"block font-semibold mb-3 text-gray-800",children:["Aspect Ratio",x.jsx("span",{className:"text-sm text-gray-500 ml-2 font-normal",children:"(optional)"})]}),x.jsxs(W,{value:null===T?"free":1===T?"square":T===4/3?"4:3":T===16/9?"16:9":1.5===T?"3:2":2===T?"2:1":1.618===T?"golden":"free",onValueChange:e=>{A("free"===e?null:"square"===e?1:"4:3"===e?4/3:"16:9"===e?16/9:"3:2"===e?1.5:"2:1"===e?2:"golden"===e?1.618:null)},children:[x.jsx(O,{className:"w-full bg-white/80 backdrop-blur-sm",children:x.jsx(U,{placeholder:"Select aspect ratio"})}),x.jsxs(L,{children:[x.jsx(_,{value:"free",children:"Free (Custom)"}),x.jsx(_,{value:"square",children:"Square (1:1)"}),x.jsx(_,{value:"4:3",children:"4:3"}),x.jsx(_,{value:"16:9",children:"16:9"}),x.jsx(_,{value:"3:2",children:"3:2"}),x.jsx(_,{value:"2:1",children:"2:1"}),x.jsx(_,{value:"golden",children:"Golden Ratio (1.618:1)"})]})]})]}),x.jsx(q,{title:"Pro Tips for Perfect Cropping",tips:["<strong>Focus on Subject</strong> Crop to highlight the main action or subject. Keep the most important elements in frame.","<strong>Remove Distractions</strong> Eliminate unwanted background elements that don't add to your story.","<strong>Maintain Quality</strong> Don't crop too small to preserve detail. Keep at least 200x200px for good quality.","<strong>Consider Aspect Ratio</strong> Think about where you'll use the GIF. Square works well for Instagram, wider for Twitter.","<strong>Preview First</strong> Check the result before finalizing. Make sure the crop looks good throughout the animation.","<strong>Use Coordinates</strong> Use the X/Y position and width/height inputs for precise control over your crop area."]})]})]})})]}),"processing"===e&&x.jsx(I,{title:"Cropping Your GIF",description:"Processing your cropped GIF..."}),"result"===e&&c&&x.jsx(Z,{title:"Your Cropped GIF is Ready!",description:"Your GIF has been successfully cropped to your specifications.",imageUrl:c.previewUrl,downloadFileName:"cropped.gif",downloadUrl:c.downloadUrl,onReset:K}),x.jsx(E,{icon:H,title:"Crop GIF",description1:"Perfect your GIFs with our powerful online cropping tool. Remove unwanted areas, focus on the most important parts, and create clean, professional GIFs that grab attention. Whether you're removing backgrounds, focusing on specific actions, or creating perfectly sized GIFs for different platforms.",description2:"Our intuitive cropping interface lets you precisely select the area you want to keep, with real-time preview so you can see exactly what your final GIF will look like. Perfect for content creators, marketers, and anyone who wants to create polished, professional GIFs.",features1:[{emoji:"‚úÇÔ∏è",text:"Precise cropping with pixel-perfect control"},{emoji:"üëÅÔ∏è",text:"Real-time preview of cropped results"},{emoji:"üéØ",text:"Focus on specific areas or subjects"}],features2:[{emoji:"üíé",text:"Maintain animation quality"},{emoji:"üì±",text:"Optimize for any platform"}],useCases:[{color:"bg-yellow-400",text:"Remove unwanted backgrounds from GIFs"},{color:"bg-green-400",text:"Focus on specific actions or subjects"},{color:"bg-blue-400",text:"Create square GIFs for social media"},{color:"bg-purple-400",text:"Trim GIFs to fit specific dimensions"}]}),x.jsx(k,{proTips:[{color:"bg-blue-500",text:"Focus on the main subject or action in your GIF for better visual impact."},{color:"bg-green-500",text:"Remove distracting background elements for cleaner, more focused results."},{color:"bg-purple-500",text:"Choose appropriate aspect ratios for your target platform (square for Instagram, 16:9 for YouTube)."},{color:"bg-orange-500",text:"Don't crop too small to maintain quality and detail in your final GIF."}],faqs:[{question:"Will cropping affect animation quality?",answer:"No, our tool maintains animation smoothness while cropping."},{question:"Can I crop to any size?",answer:"Yes, you can set custom width and height values."},{question:"What's the minimum crop size?",answer:"Minimum 10x10 pixels for optimal results."},{question:"Does cropping reduce file size?",answer:"Yes, smaller cropped areas typically result in smaller files."}],relatedResources:[{href:"/blog/top-5-gif-optimization-tips",icon:"‚ö°",text:"Top 5 GIF Optimization Tips"},{href:"/blog/how-to-make-gifs-from-videos",icon:"üìπ",text:"How to Make GIFs from Videos"}]}),x.jsx(N,{commonIssues:[{color:"bg-yellow-500",text:"If the crop area is too small, increase the dimensions."},{color:"bg-orange-500",text:"If upload fails, check your file format (GIF only) and file size."},{color:"bg-red-500",text:"Still having issues?",link:"/contact"}],quickFixes:[{icon:"‚úÇÔ∏è",text:"Use precise coordinates for accurate cropping"},{icon:"üëÅÔ∏è",text:"Preview before finalizing your crop"},{icon:"üìè",text:"Maintain aspect ratio for better results"}]}),x.jsx(G,{title:"Share Your Cropped GIF!",description:"Share your perfectly cropped GIF on Instagram, Twitter, TikTok, Facebook, or embed it in your blog or website. Tag us with #EasyGIFMaker for a chance to be featured!"})]})})}export{se as default};
