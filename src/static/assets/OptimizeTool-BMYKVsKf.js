var e=Object.defineProperty,t=Object.defineProperties,i=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,l=(t,i,s)=>i in t?e(t,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[i]=s,a=(e,t)=>{for(var i in t||(t={}))o.call(t,i)&&l(e,i,t[i]);if(s)for(var i of s(t))r.call(t,i)&&l(e,i,t[i]);return e},n=(e,s)=>t(e,i(s));import{j as d,B as c}from"./index-BgdVocwn.js";import{r as m}from"./react-vendor-BsLtzIyS.js";import{T as u,H as p,U as g,C as f,a as h,b as x,c as b,d as y,P as w,e as v,f as j,g as z,S as F}from"./ToolPageLayout-BbYh9Geg.js";import{S as I,a as N,b as k,c as G,d as S}from"./select-0_75GcHt.js";import{R as q}from"./ResultSection-704Yq0rM.js";import{E as O}from"./EnhancedTipsSection-DG3Bq8Gm.js";import{R as C,Z as U}from"./ui-vendor-BFUjoqbW.js";import"./utils-vendor-D-jntlEd.js";function T(){const[e,t]=m.useState("upload"),[i,s]=m.useState("file"),[o,r]=m.useState(null),[l,T]=m.useState(!1),[P,R]=m.useState(null),[L,E]=m.useState(null),[D,H]=m.useState({quality:80,colors:256,lossy:20,dither:"floyd-steinberg",optimize_level:3}),M=m.useCallback((e,s=null)=>{if(!(e&&0!==e.length||s))return;let o;E(null),R(null),o="url"===i&&s?s:URL.createObjectURL(e[0]),r(o),t("editing")},[i]),_=m.useCallback(()=>{return e=null,s=null,r=function*(){if(o){E(null),T(!0),R(null),t("processing");try{const e=new FormData;if("url"===i)e.append("url",o);else{const t=yield fetch(o),i=yield t.blob();e.append("file",i,"image.gif")}e.append("quality",D.quality.toString()),e.append("colors",D.colors.toString()),e.append("lossy",D.lossy.toString()),e.append("dither",D.dither),e.append("optimize_level",D.optimize_level.toString());const s="http://localhost:5001",r=yield fetch(`${s}/api/optimize`,{method:"POST",body:e});if(r.ok){const e=(yield r.json()).task_id;if(!e)throw new Error("No task_id returned from backend.");let i=null,o=null;for(let t=0;t<60;t++){const t=yield fetch(`${s}/api/task-status/${e}`);if(t.ok){const e=yield t.json();if(i=e.state,o=e.result,("SUCCESS"===i||"Task completed!"===i)&&o)break;if("FAILURE"===i)throw new Error(e.error||"GIF optimization failed.")}yield new Promise(e=>setTimeout(e,1e3))}if("SUCCESS"!==i&&"Task completed!"!==i||!o)throw new Error("GIF optimization timed out. Please try again.");{const e=yield fetch(`${s}/api/download/${o}`);if(!e.ok)throw new Error("Failed to fetch result GIF.");const i=yield e.blob(),r=URL.createObjectURL(i);R({previewUrl:r,downloadUrl:`${s}/api/download/${o}`}),t("result")}}else{const e=yield r.json();E(e.error||"An unknown error occurred during processing."),t("editing")}}catch(e){E(e.message||"Network error or unexpected issue."),t("editing")}finally{T(!1)}}},new Promise((t,i)=>{var o=e=>{try{a(r.next(e))}catch(t){i(t)}},l=e=>{try{a(r.throw(e))}catch(t){i(t)}},a=e=>e.done?t(e.value):Promise.resolve(e.value).then(o,l);a((r=r.apply(e,s)).next())});var e,s,r},[i,D,o]),$=()=>{t("upload"),r(null),R(null),E(null),H({quality:80,colors:256,lossy:20,dither:"floyd-steinberg",optimize_level:3})};return d.jsx(d.Fragment,{children:d.jsxs(u,{title:"Optimize GIF",description:"Optimize and compress GIFs online for free. Reduce file size while maintaining quality. Perfect for faster loading and sharing.",icon:C,seoProps:{title:"Optimize GIF - Compress and Optimize GIFs Online | EasyGIFMaker",description:"Optimize and compress GIFs online for free. Reduce file size while maintaining quality. Perfect for faster loading and sharing.",keywords:"optimize gif, compress gif, reduce gif size, gif optimizer, gif compression, optimize animated gif, gif editor, gif converter, gif maker, free gif maker, online gif maker, high quality gif maker",canonical:"https://easygifmaker.com/optimize"},howToSteps:[{"@type":"HowToStep",name:"Upload GIF",text:"Select a GIF file or enter a GIF URL to optimize."},{"@type":"HowToStep",name:"Choose Optimization Level",text:"Select your desired optimization level (light, medium, or heavy compression)."},{"@type":"HowToStep",name:"Preview and Compare",text:"Compare the original and optimized versions side by side."},{"@type":"HowToStep",name:"Download Optimized GIF",text:"Download your optimized GIF with reduced file size!"}],children:[d.jsx(p,{title:"How to Use the GIF Optimizer",steps:[{title:"Upload your GIF",description:"Select a GIF file or enter a GIF URL to optimize."},{title:"Adjust optimization settings",description:"Set quality, colors, and compression level for optimal results."},{title:"Preview and compare",description:"See the file size reduction and quality comparison."},{title:"Download optimized GIF",description:"Download your optimized GIF with reduced file size!"}]}),"upload"===e&&d.jsx(g,{title:"Upload GIF to Optimize",description:"Select a GIF file or enter a GIF URL to optimize and compress",errorMessage:L,uploadMethod:i,setUploadMethod:s,onFileSelect:e=>M(e),onUrlSubmit:e=>M(null,e),isProcessing:l,supportedFormats:"Supported formats: GIF only",accept:"image/gif",toolName:"GIF",useGradient:!1}),"editing"===e&&d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsx("div",{className:"lg:col-span-2",children:d.jsxs(f,{className:"bg-gradient-to-br from-white to-blue-50/30 shadow-lg",children:[d.jsxs(h,{className:"pb-4",children:[d.jsx(x,{className:"text-2xl font-bold text-gray-800",children:"GIF Preview"}),d.jsx(b,{className:"text-gray-600",children:"Preview your GIF and see optimization results"})]}),d.jsxs(y,{children:[d.jsx("div",{className:"bg-gradient-to-br from-gray-50/50 to-blue-50/30 rounded-2xl p-6 mb-6 backdrop-blur-sm",children:d.jsx("div",{className:"text-center",children:d.jsx("img",{src:o,alt:"GIF Preview",className:"max-w-full h-auto rounded-xl shadow-lg mx-auto",style:{maxHeight:"300px"}})})}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx(c,{onClick:$,variant:"outline",className:"flex-1 bg-white/80 backdrop-blur-sm hover:bg-white transition-all duration-300",children:"Upload Different GIF"}),d.jsx(c,{onClick:_,disabled:l,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:l?"Optimizing...":"Optimize GIF"})]})]})]})}),d.jsx("div",{children:d.jsxs(f,{className:"bg-gradient-to-br from-white to-indigo-50/30 shadow-lg",children:[d.jsx(h,{className:"pb-4",children:d.jsxs(x,{className:"flex items-center gap-3 text-xl font-bold text-gray-800",children:[d.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg",children:d.jsx(U,{className:"h-5 w-5 text-white"})}),"Optimization Settings"]})}),d.jsxs(y,{children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-5 border border-white/20",children:[d.jsxs("label",{htmlFor:"quality",className:"block font-semibold mb-3 text-gray-800 text-base",children:["Quality Level",d.jsx("span",{className:"text-sm text-gray-500 ml-2 font-normal",children:"(1-100)"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"flex-1 relative",children:[d.jsx("input",{id:"quality",type:"range",min:"1",max:"100",step:"1",value:D.quality,onChange:e=>H(n(a({},D),{quality:parseInt(e.target.value,10)})),className:"w-full h-3 bg-gradient-to-r from-red-200 via-yellow-200 to-green-200 rounded-full appearance-none cursor-pointer slider-thumb-blue"}),d.jsxs("div",{className:"absolute -top-6 left-0 right-0 flex justify-between text-xs text-gray-500",children:[d.jsx("span",{className:"font-medium",children:"Small"}),d.jsx("span",{className:"font-medium",children:"High"})]})]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",value:D.quality,onChange:e=>H(n(a({},D),{quality:parseInt(e.target.value,10)})),min:"1",max:"100",className:"w-20 bg-white/90 backdrop-blur-sm rounded-lg px-3 py-2 text-center font-semibold text-base shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none border border-white/30"}),d.jsx("div",{className:"absolute -bottom-5 left-1/2 transform -translate-x-1/2 text-xs text-gray-500 font-medium",children:"%"})]})]}),d.jsx("p",{className:"text-xs text-gray-600 mt-3 leading-relaxed",children:"Controls file size vs quality. Lower values = smaller files, higher values = better quality."})]}),d.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-5 border border-white/20",children:[d.jsx("label",{htmlFor:"colors",className:"block font-semibold mb-3 text-gray-800 text-base",children:"Color Count"}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"flex-1 relative",children:[d.jsx("input",{id:"colors",type:"range",min:"2",max:"256",step:"2",value:D.colors,onChange:e=>H(n(a({},D),{colors:parseInt(e.target.value,10)})),className:"w-full h-3 bg-gradient-to-r from-blue-200 via-purple-200 to-pink-200 rounded-full appearance-none cursor-pointer slider-thumb-green"}),d.jsxs("div",{className:"absolute -top-6 left-0 right-0 flex justify-between text-xs text-gray-500",children:[d.jsx("span",{className:"font-medium",children:"Few"}),d.jsx("span",{className:"font-medium",children:"Many"})]})]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",value:D.colors,onChange:e=>H(n(a({},D),{colors:parseInt(e.target.value,10)})),min:"2",max:"256",className:"w-20 bg-white/90 backdrop-blur-sm rounded-lg px-3 py-2 text-center font-semibold text-base shadow-sm focus:ring-2 focus:ring-green-500 focus:outline-none border border-white/30"}),d.jsx("div",{className:"absolute -bottom-5 left-1/2 transform -translate-x-1/2 text-xs text-gray-500 font-medium",children:"colors"})]})]}),d.jsx("p",{className:"text-xs text-gray-600 mt-3 leading-relaxed",children:"Controls color variety. Fewer colors = smaller files but less visual richness."})]}),d.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-5 border border-white/20",children:[d.jsx("label",{htmlFor:"dither",className:"block font-semibold mb-3 text-gray-800 text-base",children:"Dithering Method"}),d.jsxs(I,{value:D.dither,onValueChange:e=>H(n(a({},D),{dither:e})),children:[d.jsx(N,{className:"w-full bg-white/80 backdrop-blur-sm",children:d.jsx(k,{placeholder:"Select dithering method"})}),d.jsxs(G,{children:[d.jsx(S,{value:"floyd-steinberg",children:"Floyd-Steinberg (Best Quality)"}),d.jsx(S,{value:"atkinson",children:"Atkinson (Balanced)"}),d.jsx(S,{value:"burkes",children:"Burkes (Fast)"}),d.jsx(S,{value:"none",children:"None (No Dithering)"})]})]}),d.jsx("p",{className:"text-xs text-gray-600 mt-3 leading-relaxed",children:"Dithering improves color quality when reducing colors. Floyd-Steinberg provides the best results."})]}),d.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-5 border border-white/20",children:[d.jsxs("label",{htmlFor:"optimize-level",className:"block font-semibold mb-3 text-gray-800 text-base",children:["Optimization Level",d.jsx("span",{className:"text-sm text-gray-500 ml-2 font-normal",children:"(1-3)"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"flex-1 relative",children:[d.jsx("input",{id:"optimize-level",type:"range",min:"1",max:"3",step:"1",value:D.optimize_level,onChange:e=>H(n(a({},D),{optimize_level:parseInt(e.target.value,10)})),className:"w-full h-3 bg-gradient-to-r from-yellow-200 via-orange-200 to-red-200 rounded-full appearance-none cursor-pointer slider-thumb-orange"}),d.jsxs("div",{className:"absolute -top-6 left-0 right-0 flex justify-between text-xs text-gray-500",children:[d.jsx("span",{className:"font-medium",children:"Fast"}),d.jsx("span",{className:"font-medium",children:"Thorough"})]})]}),d.jsx("div",{className:"relative",children:d.jsx("input",{type:"number",value:D.optimize_level,onChange:e=>H(n(a({},D),{optimize_level:parseInt(e.target.value,10)})),min:"1",max:"3",className:"w-20 bg-white/90 backdrop-blur-sm rounded-lg px-3 py-2 text-center font-semibold text-base shadow-sm focus:ring-2 focus:ring-orange-500 focus:outline-none border border-white/30"})})]}),d.jsx("p",{className:"text-xs text-gray-600 mt-3 leading-relaxed",children:"Level 1: Fast optimization. Level 3: Thorough optimization with best compression."})]})]}),d.jsx(O,{title:"Pro Tips for Perfect Optimization",tips:["<strong>Quality Level</strong> 80-90% provides excellent balance of quality and file size for most GIFs.","<strong>Color Count</strong> 64-128 colors maintains good variety while reducing file size significantly.","<strong>Dithering</strong> Floyd-Steinberg provides the best color quality when reducing colors.","<strong>Optimization Level</strong> Level 3 provides the best compression but takes longer to process.","<strong>For Social Media:</strong> Use quality 70-80 for faster loading","<strong>For Websites:</strong> Use quality 85-95 for better appearance"]})]})]})})]}),"processing"===e&&d.jsx(w,{title:"Optimizing Your GIF",description:"Compressing and optimizing your GIF..."}),"result"===e&&P&&d.jsx(q,{title:"Your Optimized GIF is Ready!",description:"Your GIF has been successfully optimized with reduced file size.",imageUrl:P.previewUrl,downloadFileName:"optimized.gif",downloadUrl:P.downloadUrl,onReset:$}),d.jsx(v,{icon:U,title:"GIF Optimizer",description1:"Speed up your website and social media posts with our powerful GIF optimization tool. Reduce file sizes by up to 80% while maintaining visual quality, making your GIFs load faster and perform better across all platforms.",description2:"Our advanced compression algorithms intelligently reduce colors and optimize frame data without sacrificing the visual appeal of your GIFs. Perfect for web developers, content creators, and anyone who wants faster-loading animations.",features1:[{emoji:"⚡",text:"Reduce file size by up to 80%"},{emoji:"🎨",text:"Intelligent color optimization"},{emoji:"🔧",text:"Customizable quality settings"}],features2:[{emoji:"📊",text:"Real-time size comparison"},{emoji:"💎",text:"Maintain visual quality"}],useCases:[{color:"bg-yellow-400",text:"Optimize GIFs for faster website loading"},{color:"bg-green-400",text:"Reduce file sizes for social media sharing"},{color:"bg-blue-400",text:"Compress GIFs for email attachments"},{color:"bg-purple-400",text:"Optimize GIFs for mobile devices"}]}),d.jsx(j,{proTips:[{color:"bg-blue-500",text:"Start with quality 80-85 for a good balance of size and quality."},{color:"bg-green-500",text:"Use fewer colors (64-128) for simpler GIFs to reduce file size."},{color:"bg-purple-500",text:"Test different settings to find the perfect balance for your use case."},{color:"bg-orange-500",text:"Compare original and optimized versions to ensure quality meets your needs."}],faqs:[{question:"How much can I reduce the file size?",answer:"Typically 50-80% reduction depending on the original GIF and settings."},{question:"Will the optimization affect quality?",answer:"Some quality loss is expected, but our tool minimizes it while maximizing compression."},{question:"What's the best quality setting?",answer:"80-90 for most use cases, 70-80 for social media, 60-70 for email."},{question:"Can I optimize any GIF?",answer:"Yes, our tool works with all GIF files regardless of size or complexity."}],relatedResources:[{href:"/blog/top-5-gif-optimization-tips",icon:"⚡",text:"Top 5 GIF Optimization Tips"},{href:"/blog/how-to-make-gifs-from-videos",icon:"📹",text:"How to Make GIFs from Videos"}]}),d.jsx(z,{commonIssues:[{color:"bg-yellow-500",text:"If file size reduction is minimal, try lowering the quality setting."},{color:"bg-orange-500",text:"If quality loss is too high, increase the quality setting."},{color:"bg-red-500",text:"Still having issues?",link:"/contact"}],quickFixes:[{icon:"📊",text:"Compare file sizes before and after optimization"},{icon:"🎨",text:"Adjust color count for better compression"},{icon:"⚡",text:"Test different quality settings for optimal results"}]}),d.jsx(F,{title:"Share Your Optimized GIF!",description:"Share your optimized GIF on Instagram, Twitter, TikTok, Facebook, or embed it in your blog or website. Tag us with #EasyGIFMaker for a chance to be featured!"})]})})}export{T as default};
